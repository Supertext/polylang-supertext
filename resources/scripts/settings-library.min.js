/*!
 * Supertext translation
 * https://wordpress.org/plugins/polylang-supertext/
 * @author Heinrich Muralt
 * @version 1.9.0
 * Copyright 2016 */
var Supertext=Supertext||{};Supertext.Settings={},Supertext.Settings.Users=function(e){"use strict";function t(){var e=r.clone();e.find(".remove-user-button").click(i),n.append(e)}function i(){e(this).parent("td").parent("tr").remove(),0===n.find("tr").length&&t()}var n,r;return{initialize:function(s){s=s||{},n=e("#tblStFields tbody"),n.find("tr .saved-user-id-hidden"),n.find("tr .remove-user-button").click(i),n.find("tr .saved-user-id-hidden").each(function(){var t=e(this);t.prev().val(t.val())}),r=e("#tblStFields tr:last").clone(),r.find("input").val(""),e("#btnAddUser").click(t)}}}(jQuery),Supertext.Settings.TranslatableFields=function(e){"use strict";var t=function(){function t(){var t=e(this),r=n.clone();r.children(".custom-field-remove-input").click(i),r.insertBefore(t).show()}function i(){e(this).parent().remove()}var n;return{initialize:function(r){n=e("#translatablefieldsSettingsForm .custom-field-input").last().clone(),e("#translatablefieldsSettingsForm .custom-field-remove-input").click(i),e("#translatablefieldsSettingsForm .custom-field-add-input").click(t)}}}(),i=function(){function t(){var e=i.jstree("get_checked",!1);n.val(e.join(","))}var i,n;return{initialize:function(r){r=r||{},i=e("#pcfFieldsTree"),0!==i.length&&(n=e("#checkedPcfFieldsInput"),i.jstree({core:{themes:{name:"wordpress-dark"}},plugins:["checkbox"],checkbox:{keep_selected_style:!1}}),i.jstree("select_node",savedPcfFields),e("#translatablefieldsSettingsForm").submit(t))}}}(),n=function(){function t(){var e=i.jstree("get_checked",!1);n.val(e.join(","))}var i,n;return{initialize:function(r){r=r||{},i=e("#acfFieldsTree"),0!==i.length&&(n=e("#checkedAcfFieldsInput"),i.jstree({core:{themes:{name:"wordpress-dark"}},plugins:["checkbox"],checkbox:{keep_selected_style:!1}}),i.jstree("select_node",savedAcfFieldIds),e("#translatablefieldsSettingsForm").submit(t))}}}();return{initialize:function(e){e=e||{},t.initialize(e),i.initialize(e),n.initialize(e)}}}(jQuery),Supertext.Settings.Shortcodes=function(e){"use strict";function t(){var t=e(this),n=e(t.prev().clone()),r=t.prev().data("index"),s=r+1;n.data("index",s),n.attr("data-index",s),n.children("input[type=text]").each(function(){var t=e(this);t.val("");var i=e(this).attr("name").replace("[attributes]["+r+"]","[attributes]["+s+"]");t.attr("name",i)}),n.children(".shortcode-attribute-remove-input").click(i),n.insertBefore(t).show()}function i(){e(this).parent().remove()}function n(){e("#shortcodesSettingsForm .shortcode-attribute-input input[type=text]").each(function(){var t=e(this);""!==t.val()&&t.parent().show()})}function r(e){return e.split(/,\s*/)}function s(e){return r(e).pop()}var c=["rawurl","url","base64"];return{initialize:function(a){a=a||{},n(),e("#shortcodesSettingsForm .shortcode-attribute-add-input").click(t),e("#shortcodesSettingsForm .shortcode-attribute-remove-input").click(i),e(".shortcode-input-encoding").bind("keydown",function(t){t.keyCode===e.ui.keyCode.TAB&&e(this).autocomplete("instance").menu.active&&t.preventDefault()}).autocomplete({minLength:0,source:function(t,i){i(e.ui.autocomplete.filter(c,s(t.term)))},focus:function(){return!1},select:function(e,t){var i=r(this.value);return i.pop(),i.push(t.item.value),i.push(""),this.value=i.join(", "),!1}})}}}(jQuery),jQuery(document).ready(function(){var e=window.location.search,t=/tab=(.*?)(&|$|\s)/.exec(e),i=null===t?"users":t[1];switch(i){case"users":Supertext.Settings.Users.initialize();break;case"translatablefields":Supertext.Settings.TranslatableFields.initialize();break;case"shortcodes":Supertext.Settings.Shortcodes.initialize()}});